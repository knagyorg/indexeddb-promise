<html>
  <head>
    <title>IndexedDB app</title>
    <script src="../dist/indexed-db.min.js"></script>
  </head>
  <body>
    <h1>Check the console</h1>
    <script>
      const { Model } = IndexedDB;

      class DB extends IndexedDB.Model {
        //@overrides default method
        get config() {
          return {
            version: 1,
            databaseName: 'boo',
            tableName: 'myNewTable',
            primaryKey: {
              name: 'id',
              autoIncrement: true,
              unique: true,
            },
            initData: [],
            indexes: {
              roomId: { unique: false },
            },
          };
        }
      }

      const db = new DB();

      // add new record
      db.insert({
        roomId: 12,
        roomName: 'My room name',
        comment: 'This room is awesome',
      })
        .then(function (data, resp) {
          //when done click update button
          console.info('Yay, you have saved the data in ' + data);
        })
        .catch(function (error) {
          console.error(error);
        });

      // Get all results from DB
      db.selectAll().then(function (results) {
        console.log(...results);
      });
    </script>
  </body>
</html>
